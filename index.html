<!DOCTYPE html>
<html>
<head>
  <title> DVC Lists</title>
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script type="text/javascript">
    jQuery (function($){
      jQuery.fn.constructColums = function(){
         var constructor = '<div class="eachList">'
                      +   '<form id="searchForm" method="post">'
                      +     '<input type="text" id="schoolName" placeholder="School name">'
                      +     '<input type="text" id="major" placeholder="major">'
                      +     '<input type="submit" id="getSchoolInfo" value="Get">'
                      +   '</form>'
                      +   '<div class="coursesList">'           
                      +   '</div>'
                      + '</div>';

          $(this).prepend(constructor);
      } //end of function constructColums
      $("#first-col").constructColums();
        $("#second-col").constructColums();
        $("#third-col").constructColums();
        $("#fourth-col").constructColums();
      jQuery(document).ready(function(){
        //to set up the basic skeleton of the page
        
         // $("#searchForm").on("submit", function(event){
          $("form").on("submit", function(event){


        
          event.preventDefault();
          
          //problem here!!!!!
          // var schoolInputByUser = $("#schoolName").val();

          var schoolInputByUser = $(this).find('#schoolName').val();
          // alert(schoolInputByUser);
          if(schoolInputByUser === "Berkeley"){
        
            // var id = $(this).attr('id');
            // alert(id)
            //this will overwrite the original html page contents
            // $("#first-search-box").load("courseInfo.html #Cal");
            // alert($(this).parent().parent().attr('id'));
            var colunmId = $(this).parent().parent().attr('id'); 
            if (colunmId === "first-col"){
              $("#first-search-box").load("courseInfo.html #Cal");  
            }
            else if (colunmId === "second-col"){
              $("#second-search-box").load("courseInfo.html #Cal");  
            }
            else if (colunmId === "third-col"){
              $("#third-search-box").load("courseInfo.html #Cal");  
            }
            else if (colunmId === "fourth-col"){
              $("#fourth-search-box").load("courseInfo.html #Cal");  
            }
            else{
              alert("colum error!");
            }

             
          }

          else if(schoolInputByUser === "DVC"){
            var colunmId = $(this).parent().parent().attr('id');
            if (colunmId === "first-col"){
              $("#first-search-box").load("courseInfo.html #DVC");  
            }
            else if (colunmId === "second-col"){
              $("#second-search-box").load("courseInfo.html #DVC");  
            }
            else if (colunmId === "third-col"){
              $("#third-search-box").load("courseInfo.html #DVC");  
            }
            else if (colunmId === "fourth-col"){
              $("#fourth-search-box").load("courseInfo.html #DVC");  
            }
            else{
              alert("colum error!");
            }        
            
          }

          else{
            alert("only for Berkeley and DVC search");
          }
        });//end of submit form

      });//end of document ready function
    
    });//end of non-conflict mode
  </script>
</head>

<body>
  <div class="col-md-3" id="first-col">
    <ul id="first-search-box">

    </ul>
  </div>

  <div class="col-md-3" id="second-col">
     <ul id="second-search-box">

    </ul>
  </div>

  <div class="col-md-3" id="third-col">
     <ul id="third-search-box">

    </ul>
  </div>

  <div class="col-md-3" id="fourth-col">
     <ul id="fourth-search-box">

    </ul>
  </div>




</body>

</html>